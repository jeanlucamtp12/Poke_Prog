<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="../css/city.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./dialogos.js"></script>

    <title>Document</title>
</head>

<body>

    <audio id="audio" src="../sounds/home.mp3" loop autoplay></audio>
    <audio id="intro" src="../sounds/vozes/intro.mp3" autoplay></audio>


    <h1 class="titulo">Seleção de Fase</h1>

    <div class="home" onclick="window.location.href='../telaInicial/index.html'">
        <img src="../img/home/home.png"><img>
    </div>

    <div id="telaTransparente"></div>

    <div id="imagensFases">
        <img style="display: none;" id="img1" src="../img/home/pontos/alfabeto.png"></img>
        <img style="display: none;" id="img2" src="../img/home/pontos/decisao.png"></img>
        <img style="display: none;" id="img3" src="../img/home/pontos/digigenheiro.png"></img>
        <img style="display: none;" id="img4" src="../img/home/pontos/lizardo.png"></img>
        <img style="display: none;" id="img5" src="../img/home/pontos/funcoes.png"></img>
        <img style="display: none;" id="img6" src="../img/home/pontos/cemiterio.png"></img>
        <img style="display: none;" id="img7" src="../img/home/pontos/usina.png"></img>
        <img style="display: none;" id="img8" src="../img/home/pontos/victorias.png"></img>
    </div>

    <div id="introducao">
        <img class="professor" src="../img/home/Fran.png">
        <div class="balao">
            <div id="caixaDialogo">
                <h4 id="dialogo"></h4>
            </div>
            <button id="botao" onclick="exibirTexto()">Avançar</button>
            <button id="botao2" onclick="iniciar()">Iniciar</button>

        </div>
    </div>

    <div class="mapa">

        <div>
            <img class="parede1" src="../img/home/asfauto.png">
            <img class="parede2" src="../img/home/asfauto.png">
            <img class="parede3" src="../img/home/asfauto.png">
        </div>

        <div>
            <img class="bloco1" src="../img/home/asfauto.png">
            <img class="bloco2" src="../img/home/asfauto.png">
            <img class="bloco3" src="../img/home/asfauto.png">
        </div>



        <div style="cursor: pointer;" onclick="iniciarFase(1)">
            <h1 id="fase1">Fase 1 <br>Industria das variaveis</h1>
            <img id="fabrica" src="../img/home/fabrica.png"></a>

            <img id="a" src="../img/home/letras/a.png">
            <img id="b" src="../img/home/letras/b.png">
            <img id="c" src="../img/home/letras/c.png">
            <img id="d" src="../img/home/letras/d.png">
            <img id="e" src="../img/home/letras/e.png">
            <img id="f" src="../img/home/letras/f.png">
            <img id="g" src="../img/home/letras/g.png">
        </div>


        <div style="cursor: pointer;" onclick="iniciarFase(2)">
            <h1 id="fase2">Fase 2 <br>Escola das decisões</h1>
            <img id="escola" src="../img/home/escola.png"></a>
            <img id="bulbassaur" src="../img/home/1.gif">
            <img id="arbok" src="../img/home/J.gif">
        </div>




        <div style="cursor: pointer;" onclick="iniciarFase(3)">
            <h1 id="fase3">Fase 3 <br>Lago repetição</h1>
            <img id="nuvem3" src="../img/home/nuvem1.png"></a>
            <img id="rio" src="../img/home/rio.png"></a>
            <img id="timburr" src="../img/repeticao/Katsumi.gif">
        </div>


        <div style="cursor: pointer;" onclick="iniciarFase(4)">
            <h1 id="fase4">Fase 4 <br>Bosque dos Arrays</h1>
            <img id="nuvem1" src="../img/home/nuvem1.png"></a>
            <img id="nuvem2" src="../img/home/nuvem2.png"></a>
            <img id="bosque" src="../img/home/bosque.png"></a>
            <img id="falinks1" src="../img/arrays/largato.gif">
        </div>


        <div style="cursor: pointer;" onclick="iniciarFase(5)">
            <h1 id="fase5">Fase 5 <br>Casa das funções</h1>
            <img id="casa" src="../img/home/casa.png"></a>
            <img id="cortador" src="../img/home/alien3.gif">
            <img id="forno" src="../img/home/alien.gif">
            <img id="ventilador" src="../img/home/alienJ.gif">
        </div>


        <div style="cursor: pointer;" onclick="iniciarFase(6)">
            <h1 id="fase6">Fase 6 <br>Misterios das Exceções</h1>
            <img id="cemiterio1" src="../img/home/cemiterio1.png"></a>
            <img id="cemiterio2" src="../img/home/cemiterio2.png"></a>
            <img id="gasly1" src="../img/excecoes/fantasmas/m1.gif">
            <img id="gasly2" src="../img/excecoes/fantasmas/m1.gif">
            <img id="gasly3" src="../img/excecoes/fantasmas/m1Shy.gif">
            <img id="gasly4" src="../img/excecoes/fantasmas/m1.gif">
        </div>



        <div style="cursor: pointer;" onclick="iniciarFase(7)">
            <h1 id="fase7">Fase 7 <br>Usina Recursiva</h1>
            <img id="predio1" src="../img/home/predio.png"></a>
            <img id="predio2" src="../img/home/predio2.png"></a>
            <img id="magnemite1" src="../img/home/1Maq.gif">
            <img id="magnemite2" src="../img/home/v3.gif">
            <img id="magneton1" src="../img/home/v4.gif">
        </div>


        <div style="cursor: pointer;" onclick="iniciarFase(8)">
            <h1 id="fase8">Fase 8 <br>Desafio da Vitória</h1>
            <img id="trofeu" src="../img/home/trofeu.png"></a>
            <img id="victini1" src="../img/home/Vitor1.gif">
            <img id="victini2" src="../img/home/Vitor2.gif">
        </div>



    </div>


</body>

</html>

<script>


    var dialogo = textos[0];
    var aux = 0;
    var verificaClick = "false";
    var fase = 0;

    document.getElementById('audio').volume = 0.2;
    document.getElementById('intro').play();
    document.querySelector(".titulo").style.display = "none";

    escreveDialogo();


    function escreveDialogo() {

        if (verificaClick == "false") {
            if (aux < dialogo.length) {
                document.getElementById("dialogo").textContent += dialogo.charAt(aux);
                aux++;
                setTimeout(escreveDialogo, 100);

            }
        }
    }




    function exibirTexto() {
        verificaClick = "true";
        //document.getElementById("dialogo").textContent = "";
        document.getElementById("dialogo").innerHTML = textos[fase];
    }


    function iniciar() {
        document.getElementById('audio').volume = 1;
        document.getElementById('intro').volume = 0;

        document.querySelector(".titulo").style.display = "block";
        document.getElementById("introducao").style.display = "none";
        document.querySelector(".mapa").style.opacity = "1";
        document.getElementById("telaTransparente").style.display = "none";
    }




    function iniciarFase(val) {

        fase = val;
        exibeImagem(val);
        aux = 0;
        verificaClick = "false";
        dialogo = textos[val];

        document.getElementById("dialogo").textContent = "";
        
        document.querySelector(".titulo").style.display = "none";
        document.getElementById("introducao").style.display = "block";
        document.getElementById("telaTransparente").style.display = "block";
        document.querySelector(".mapa").style.opacity = "0.2";




        criarSom(val);
        escreveDialogo();


        document.getElementById("botao2").addEventListener("click", function () {
            if (val == 1) {
                window.location.href = '../variaveis/caixas.html';
            } else if (val == 2) {
                window.location.href = '../decisao/decisao.html';
            } else if (val == 3) {
                window.location.href = '../repeticao/repeticao.html';
            } else if (val == 4) {
                window.location.href = '../arrays/arrays.html';
            } else if (val == 5) {
                window.location.href = '../funcoes/funcoes.html';
            } else if (val == 6) {
                window.location.href = '../excecoes/excecoes.html';
            } else if (val == 7) {
                window.location.href = '../extras/hanoi.html';
            } else {
                window.location.href = '../Quizes/quiz.html';
            }

        });

    }





    function exibeImagem(val) {
        document.getElementById("img" + val).style.display = "block";

    }



    const criarSom = (valor) => {

        var som = new Audio();        
        som.src = '../sounds/vozes/fase'+ valor +'.mp3';
        document.body.appendChild(som);

        document.getElementById('audio').volume = 0.2;
        som.play();
    }





</script>