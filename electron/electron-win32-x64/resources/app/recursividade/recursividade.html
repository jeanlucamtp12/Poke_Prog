<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="../css/recursividade.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div class="campo">



        <div class="porta1">
            <img class="porta1" src="../img/recursividade/porta.png">
        </div>

        <div class="porta2">
            <img class="porta2" src="../img/recursividade/porta.png">
        </div>

        <div class="porta3">
            <img class="porta3" src="../img/recursividade/porta.png">
        </div>

        <div class="porta4">
            <img class="porta4" src="../img/recursividade/porta.png">
        </div>


        <div class="chao1">
            <img class="bloco1" src="../img/recursividade/chao.png">
        </div>
        <div class="chao2">
            <img class="bloco2" src="../img/recursividade/chao.png">
        </div>
        <div class="chao3">
            <img class="bloco3" src="../img/recursividade/chao.png">
        </div>
        <div class="chao4">
            <img class="bloco4" src="../img/recursividade/chao.png">
        </div>


        <div class="escada1">
            <img class="escada1" ondragover="areaColisao(event)" src="../img/recursividade/escada.png">
        </div>
        <div class="escada2">
            <img class="escada2" ondragover="areaColisao(event)" src="../img/recursividade/escada.png">
        </div>

        <div class="escada3">
            <img class="escada3" ondragover="areaColisao(event)" src="../img/recursividade/escada.png">
        </div>
        <div class="escada4">
            <img class="escada4" ondragover="areaColisao(event)" src="../img/recursividade/escada.png">
        </div>

        <div class="escada5">
            <img class="escada5" ondragover="areaColisao(event)" src="../img/recursividade/escada.png">
        </div>


        <div class="pedra1">
            <img class="pedra1" id="pedra1" src="../img/recursividade/tronco.png">
        </div>

        <div class="pedra2">
            <img class="pedra2" id="pedra2" src="../img/recursividade/tronco.png">
        </div>

        <div class="pedra3">
            <img class="pedra3" id="pedra3" src="../img/recursividade/tronco.png">
        </div>

        <div class="pedra4">
            <img class="pedra4" id="pedra4" src="../img/recursividade/tronco.png">
        </div>


        <div class="personagem">
            <img class="personagem" id="personagem" ondragstart="personagemIniciado(event)" src="../img/recursividade/1_direita.png">
        </div>

    </div>
















    <script>
        const personagemIniciado = (event) => {
            event.dataTransfer.setData("img", event.target.id);
        }

        const areaColisao = (event) => {
            event.preventDefault();
            console.log("Aqquiii");
        }

        /*const detecarColisao = (event) => {
            event.preventDefault();

            var imagem = event.dataTransfer.getData("img");
            var slot = "slot" + i;
            document.getElementById(slot).innerHTML = "<img src='../img/funcoes/itens/" + imagem + ".png'>";
            i = i + 1;

            lista.push(imagem);

            if (i == 5) {
                verificaDados();
            }

        }*/
    </script>


    </div>












    <script>








        const moverDireita = () => {



            document.getElementById("personagem").src = "../img/recursividade/1_direita.png";

            const el = document.querySelector('.personagem');
            const value = getComputedStyle(el).getPropertyValue('left');


            var remove_string = value.replace('px', '');
            var valorNum = parseInt(remove_string);

            var numPx = valorNum + 10;
            var soma = parseInt(value) + 10;

            personagem.style.left = soma + "px";

            console.log("asa ", personagem.style.left);


        }



        const moverEsquerda = () => {

            document.getElementById("personagem").src = "../img/recursividade/1_esquerda.png";

            const el = document.querySelector('.personagem');
            const value = getComputedStyle(el).getPropertyValue('left');


            var remove_string = value.replace('px', '');
            var valorNum = parseInt(remove_string);

            var numPx = valorNum + 10;
            var soma = parseInt(value) - 10;

            personagem.style.left = soma + "px";

        }

        const moverCima = () => {

            document.getElementById("personagem").src = "../img/recursividade/1_cima.png";

            const el = document.querySelector('.personagem');
            const value = getComputedStyle(el).getPropertyValue('bottom');





            var remove_string = value.replace('px', '');
            var valorNum = parseInt(remove_string);

            var numPx = valorNum + 10;
            var soma = parseInt(value) + 10;

            personagem.style.bottom = soma + "px";

        }

        const moverBaixo = () => {

            document.getElementById("personagem").src = "../img/recursividade/1_cima.png";

            const el = document.querySelector('.personagem');
            const value = getComputedStyle(el).getPropertyValue('bottom');


            var remove_string = value.replace('px', '');
            var valorNum = parseInt(remove_string);

            var numPx = valorNum + 10;
            var soma = parseInt(value) - 10;

            personagem.style.bottom = soma + "px";

        }




        const personagem = document.querySelector('.personagem');

        const mover = () => {

            var tecla = event.keyCode;


            if (tecla == 39) {
                moverDireita();

            } else if (tecla == 37) {
                moverEsquerda();
            } else if (tecla == 38 && getComputedStyle(personagem).getPropertyValue('left') == "590px") {
                moverCima();

            } else if (tecla == 40) {
                moverBaixo();
            }



        }

        document.addEventListener('keydown', mover);
    </script>




</body>

</html>